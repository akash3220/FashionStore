import {
  __commonJS
} from "./chunk-BUSYA2B4.js";

// node_modules/three.orientation/index.js
var require_three = __commonJS({
  "node_modules/three.orientation/index.js"(exports, module) {
    module.exports = orientationControl;
    var degreeToRadiansFactor = Math.PI / 180;
    function degToRad(degrees) {
      return degrees * degreeToRadiansFactor;
    }
    function orientationControl(object) {
      object.rotation.reorder("YXZ");
      var enabled = false;
      var deviceOrientation = {};
      var screenOrientation = 0;
      var originalRotation;
      var setObjectQuaternion = createObjectQuaterionSetter();
      connect();
      return {
        update,
        connect,
        disconnect
      };
      function connect() {
        deviceOrientation = {};
        originalRotation = object.quaternion.clone();
        onScreenOrientationChangeEvent();
        window.addEventListener("orientationchange", onScreenOrientationChangeEvent, false);
        window.addEventListener("deviceorientation", onDeviceOrientationChangeEvent, false);
        enabled = true;
      }
      function disconnect() {
        enabled = false;
        window.removeEventListener("orientationchange", onScreenOrientationChangeEvent, false);
        window.removeEventListener("deviceorientation", onDeviceOrientationChangeEvent, false);
      }
      function update() {
        if (!enabled) return;
        var alpha = deviceOrientation.alpha ? degToRad(deviceOrientation.alpha) : 0;
        var beta = deviceOrientation.beta ? degToRad(deviceOrientation.beta) : 0;
        var gamma = deviceOrientation.gamma ? degToRad(deviceOrientation.gamma) : 0;
        var orient = screenOrientation ? degToRad(screenOrientation) : 0;
        setObjectQuaternion(object.quaternion, alpha, beta, gamma, orient);
      }
      function onDeviceOrientationChangeEvent(event) {
        deviceOrientation = event;
      }
      function onScreenOrientationChangeEvent() {
        screenOrientation = window.orientation || 0;
      }
      function createObjectQuaterionSetter() {
        var deviceEuler = new THREE.Euler();
        var deviceQuaternion = new THREE.Quaternion();
        var screenTransform = new THREE.Quaternion();
        var worldTransform = new THREE.Quaternion(-Math.sqrt(0.5), 0, 0, Math.sqrt(0.5));
        var minusHalfAngle = 0;
        return function(quaternion, alpha, beta, gamma, orient) {
          quaternion.copy(originalRotation);
          deviceEuler.set(beta, alpha, -gamma, "YXZ");
          quaternion.multiply(deviceQuaternion.setFromEuler(deviceEuler));
          minusHalfAngle = -orient / 2;
          screenTransform.set(0, Math.sin(minusHalfAngle), 0, Math.cos(minusHalfAngle));
          quaternion.multiply(screenTransform);
          quaternion.multiply(worldTransform);
        };
      }
    }
  }
});
export default require_three();
//# sourceMappingURL=three__orientation.js.map
